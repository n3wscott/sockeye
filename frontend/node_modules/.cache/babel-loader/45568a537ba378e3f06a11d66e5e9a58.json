{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nimport { applyKey } from './utils';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:\", \";\"], function (props) {\n  return props.defaultCursor ? 'default' : 'pointer';\n});\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-1\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.callerPlain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar defaultMessages = {\n  multiple: 'multiple'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? defaultMessages : _ref$messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      options = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"alignSelf\", \"children\", \"closeOnChange\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onChange\", \"onClick\", \"onClose\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext); // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, ''),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // valuedValue is the value mapped with any valueKey applied\n\n\n  var valuedValue = useMemo(function () {\n    if (Array.isArray(value)) return value.map(function (v) {\n      return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n    });\n    return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n  }, [value, valueKey]); // the option indexes present in the value\n\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    options.forEach(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) {\n          if (selected.indexOf(index) !== -1) result.push(index);\n        } else if (index === selected) {\n          result.push(index);\n        }\n      } else if (Array.isArray(valuedValue)) {\n        if (valuedValue.some(function (v) {\n          return v === applyKey(option, valueKey);\n        })) {\n          result.push(index);\n        }\n      } else if (valuedValue === applyKey(option, valueKey)) {\n        result.push(index);\n      }\n    });\n    return result;\n  }, [options, selected, valueKey, valuedValue]);\n\n  var _useState = useState(propOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n  }, [onClose]);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose();\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.target = inputRef.current;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      adjustedEvent.selected = nextSelected;\n      onChange(adjustedEvent);\n    }\n  }, [closeOnChange, onChange, onRequestClose, setValue]);\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel) return valueLabel;\n    if ( /*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n\n    return undefined;\n  }, [value, valueLabel]); // text to show\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(options[optionIndexesInValue[0]], labelKey);\n      return messages.multiple;\n    }\n\n    return undefined;\n  }, [labelKey, messages, optionIndexesInValue, options, selectValue]);\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: options,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      selected: selected,\n      value: value,\n      valueKey: valueKey\n    }, children) // StyledDropButton needs to know if the border should be shown\n    ,\n    callerPlain: plain,\n    plain: true // Button should be plain\n    ,\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || /*#__PURE__*/React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (value && typeof value === 'string' ? \", \" + value : '') // When Select is disabled, we want to show a default cursor\n    // but not have disabled styling come from TextInput\n    // Disabled can be a bool or an array of options to disable.\n    // We only want to disable the TextInput if the control\n    // button should be disabled which occurs when disabled\n    // equals true.\n    ,\n    defaultCursor: disabled === true || undefined,\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = SelectDoc || Select;\nexport { SelectWrapper as Select };","map":{"version":3,"sources":["/Users/jeffreynaef/go/src/github.com/n3wscott/sockeye/frontend/node_modules/grommet/es6/components/Select/Select.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","isValidElement","useCallback","useContext","useMemo","useState","useRef","useEffect","styled","ThemeContext","controlBorderStyle","normalizeColor","defaultProps","Box","DropButton","Keyboard","FormContext","TextInput","SelectContainer","applyKey","SelectTextInput","withConfig","displayName","componentId","props","defaultCursor","StyledSelectDropButton","callerPlain","theme","select","control","extend","open","setPrototypeOf","defaultDropAlign","top","left","defaultMessages","multiple","Select","_ref","ref","a11yTitle","alignSelf","children","_ref$closeOnChange","closeOnChange","disabled","disabledKey","_ref$dropAlign","dropAlign","dropHeight","dropProps","dropTarget","emptySearchMessage","focusIndicator","gridArea","id","icon","labelKey","margin","_ref$messages","messages","name","onChange","onClick","onClose","onKeyDown","onMore","onOpen","onSearch","propOpen","options","placeholder","plain","replace","searchPlaceholder","selected","size","valueProp","value","valueKey","valueLabel","rest","inputRef","formContext","_formContext$useFormI","useFormInput","setValue","valuedValue","Array","isArray","map","v","reduce","optionIndexesInValue","result","forEach","option","index","undefined","push","some","_useState","setOpen","onRequestOpen","onRequestClose","onSelectChange","event","_ref2","nextValue","nextSelected","persist","adjustedEvent","current","SelectIcon","icons","up","down","selectValue","inputValue","iconColor","color","createElement","onDown","onUp","dropContent","align","direction","justify","background","flex","basis","tabIndex","type","readOnly","style","minWidth","SelectDoc","process","env","NODE_ENV","require","doc","SelectWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nimport { applyKey } from './utils';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:\", \";\"], function (props) {\n  return props.defaultCursor ? 'default' : 'pointer';\n});\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-1\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.callerPlain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar defaultMessages = {\n  multiple: 'multiple'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? defaultMessages : _ref$messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      options = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"alignSelf\", \"children\", \"closeOnChange\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onChange\", \"onClick\", \"onClose\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext); // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, ''),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // valuedValue is the value mapped with any valueKey applied\n\n\n  var valuedValue = useMemo(function () {\n    if (Array.isArray(value)) return value.map(function (v) {\n      return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n    });\n    return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n  }, [value, valueKey]); // the option indexes present in the value\n\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    options.forEach(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) {\n          if (selected.indexOf(index) !== -1) result.push(index);\n        } else if (index === selected) {\n          result.push(index);\n        }\n      } else if (Array.isArray(valuedValue)) {\n        if (valuedValue.some(function (v) {\n          return v === applyKey(option, valueKey);\n        })) {\n          result.push(index);\n        }\n      } else if (valuedValue === applyKey(option, valueKey)) {\n        result.push(index);\n      }\n    });\n    return result;\n  }, [options, selected, valueKey, valuedValue]);\n\n  var _useState = useState(propOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n  }, [onClose]);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose();\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent = event;\n      adjustedEvent.target = inputRef.current;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      adjustedEvent.selected = nextSelected;\n      onChange(adjustedEvent);\n    }\n  }, [closeOnChange, onChange, onRequestClose, setValue]);\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel) return valueLabel;\n    if ( /*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n\n    return undefined;\n  }, [value, valueLabel]); // text to show\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(options[optionIndexesInValue[0]], labelKey);\n      return messages.multiple;\n    }\n\n    return undefined;\n  }, [labelKey, messages, optionIndexesInValue, options, selectValue]);\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: options,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      selected: selected,\n      value: value,\n      valueKey: valueKey\n    }, children) // StyledDropButton needs to know if the border should be shown\n    ,\n    callerPlain: plain,\n    plain: true // Button should be plain\n    ,\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || /*#__PURE__*/React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (value && typeof value === 'string' ? \", \" + value : '') // When Select is disabled, we want to show a default cursor\n    // but not have disabled styling come from TextInput\n    // Disabled can be a bool or an array of options to disable.\n    // We only want to disable the TextInput if the control\n    // button should be disabled which occurs when disabled\n    // equals true.\n    ,\n    defaultCursor: disabled === true || undefined,\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = SelectDoc || Select;\nexport { SelectWrapper as Select };"]},"metadata":{},"sourceType":"module"}