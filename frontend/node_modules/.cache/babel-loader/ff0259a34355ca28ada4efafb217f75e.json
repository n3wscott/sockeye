{"ast":null,"code":"// Utility functions for the Calendar.\n// Just what's needed to avoid having to include a dependency like momentjs.\nvar DAY_MILLISECONDS = 24 * 60 * 60 * 1000;\nexport var addDays = function addDays(date, days) {\n  var result = new Date(date.getTime() + DAY_MILLISECONDS * days); // Deal with crossing the daylight savings time boundary,\n  // where adding a day's worth when the time is midnight results in\n  // being a day off.\n\n  var hourDelta = result.getHours() - date.getHours(); // At this point, hourDelta is typically 0 (normal day),\n  // +23 (November daylight saving), or -23 (March Daylight saving)\n  // depending on which side of the switch we are on.\n  // Convert so that hourDelta is either +1 or -1.\n\n  if (hourDelta === 23) {\n    hourDelta -= 24;\n  } else if (hourDelta === -23) {\n    hourDelta += 24;\n  }\n\n  result.setHours(result.getHours() - hourDelta);\n  return result;\n};\nexport var subtractDays = function subtractDays(date, days) {\n  return addDays(date, -days);\n};\nexport var addMonths = function addMonths(date, months) {\n  var result = new Date(date);\n  var years = Math.floor((date.getMonth() + months) / 12);\n  result.setFullYear(date.getFullYear() + years);\n  var targetMonth = (date.getMonth() + months) % 12;\n  result.setMonth(targetMonth < 0 ? 12 + targetMonth : targetMonth);\n  return result;\n};\nexport var subtractMonths = function subtractMonths(date, months) {\n  return addMonths(date, -months);\n};\nexport var startOfMonth = function startOfMonth(date) {\n  var result = new Date(date);\n  result.setDate(1);\n  return result;\n};\nexport var endOfMonth = function endOfMonth(date) {\n  var result = addMonths(date, 1);\n  result.setDate(0);\n  return result;\n};\nexport var sameDay = function sameDay(date1, date2) {\n  return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();\n};\nexport var sameDayOrAfter = function sameDayOrAfter(date1, date2) {\n  return date1.getFullYear() > date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() > date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() >= date2.getDate());\n};\nexport var sameDayOrBefore = function sameDayOrBefore(date1, date2) {\n  return date1.getFullYear() < date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() < date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() <= date2.getDate());\n};\nexport var daysApart = function daysApart(date1, date2) {\n  return Math.floor((date1.getTime() - date2.getTime()) / DAY_MILLISECONDS);\n}; // betweenDates takes an array of two elements and checks if the\n// supplied date lies between them, inclusive.\n// returns 2 if exact match to one end, 1 if between, undefined otherwise\n\nexport var betweenDates = function betweenDates(date, dates) {\n  var result;\n\n  if (dates) {\n    var _dates$map = dates.map(function (d) {\n      return new Date(d);\n    }),\n        from = _dates$map[0],\n        to = _dates$map[1];\n\n    if (sameDay(date, from) || sameDay(date, to)) {\n      result = 2;\n    } else if (sameDayOrAfter(date, from) && sameDayOrBefore(date, to)) {\n      result = 1;\n    }\n  } else {\n    result = 1;\n  }\n\n  return result;\n}; // withinDates takes an array of string dates or 2 element arrays and\n// checks whether the supplied date matches any string or is between\n// any dates in arrays.\n// returns 2 if exact match, 1 if between, undefined otherwise\n\nexport var withinDates = function withinDates(date, dates) {\n  var result;\n\n  if (dates) {\n    if (Array.isArray(dates)) {\n      dates.some(function (d) {\n        if (typeof d === 'string') {\n          if (sameDay(date, new Date(d))) {\n            result = 2;\n          }\n        } else {\n          result = betweenDates(date, d);\n        }\n\n        return result;\n      });\n    } else if (sameDay(date, new Date(dates))) {\n      result = 2;\n    }\n  }\n\n  return result;\n};","map":{"version":3,"sources":["/Users/jeffreynaef/go/src/github.com/n3wscott/sockeye/frontend/node_modules/grommet/es6/components/Calendar/utils.js"],"names":["DAY_MILLISECONDS","addDays","date","days","result","Date","getTime","hourDelta","getHours","setHours","subtractDays","addMonths","months","years","Math","floor","getMonth","setFullYear","getFullYear","targetMonth","setMonth","subtractMonths","startOfMonth","setDate","endOfMonth","sameDay","date1","date2","getDate","sameDayOrAfter","sameDayOrBefore","daysApart","betweenDates","dates","_dates$map","map","d","from","to","withinDates","Array","isArray","some"],"mappings":"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","sourcesContent":["// Utility functions for the Calendar.\n// Just what's needed to avoid having to include a dependency like momentjs.\nvar DAY_MILLISECONDS = 24 * 60 * 60 * 1000;\nexport var addDays = function addDays(date, days) {\n  var result = new Date(date.getTime() + DAY_MILLISECONDS * days); // Deal with crossing the daylight savings time boundary,\n  // where adding a day's worth when the time is midnight results in\n  // being a day off.\n\n  var hourDelta = result.getHours() - date.getHours(); // At this point, hourDelta is typically 0 (normal day),\n  // +23 (November daylight saving), or -23 (March Daylight saving)\n  // depending on which side of the switch we are on.\n  // Convert so that hourDelta is either +1 or -1.\n\n  if (hourDelta === 23) {\n    hourDelta -= 24;\n  } else if (hourDelta === -23) {\n    hourDelta += 24;\n  }\n\n  result.setHours(result.getHours() - hourDelta);\n  return result;\n};\nexport var subtractDays = function subtractDays(date, days) {\n  return addDays(date, -days);\n};\nexport var addMonths = function addMonths(date, months) {\n  var result = new Date(date);\n  var years = Math.floor((date.getMonth() + months) / 12);\n  result.setFullYear(date.getFullYear() + years);\n  var targetMonth = (date.getMonth() + months) % 12;\n  result.setMonth(targetMonth < 0 ? 12 + targetMonth : targetMonth);\n  return result;\n};\nexport var subtractMonths = function subtractMonths(date, months) {\n  return addMonths(date, -months);\n};\nexport var startOfMonth = function startOfMonth(date) {\n  var result = new Date(date);\n  result.setDate(1);\n  return result;\n};\nexport var endOfMonth = function endOfMonth(date) {\n  var result = addMonths(date, 1);\n  result.setDate(0);\n  return result;\n};\nexport var sameDay = function sameDay(date1, date2) {\n  return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();\n};\nexport var sameDayOrAfter = function sameDayOrAfter(date1, date2) {\n  return date1.getFullYear() > date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() > date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() >= date2.getDate());\n};\nexport var sameDayOrBefore = function sameDayOrBefore(date1, date2) {\n  return date1.getFullYear() < date2.getFullYear() || date1.getFullYear() === date2.getFullYear() && (date1.getMonth() < date2.getMonth() || date1.getMonth() === date2.getMonth() && date1.getDate() <= date2.getDate());\n};\nexport var daysApart = function daysApart(date1, date2) {\n  return Math.floor((date1.getTime() - date2.getTime()) / DAY_MILLISECONDS);\n}; // betweenDates takes an array of two elements and checks if the\n// supplied date lies between them, inclusive.\n// returns 2 if exact match to one end, 1 if between, undefined otherwise\n\nexport var betweenDates = function betweenDates(date, dates) {\n  var result;\n\n  if (dates) {\n    var _dates$map = dates.map(function (d) {\n      return new Date(d);\n    }),\n        from = _dates$map[0],\n        to = _dates$map[1];\n\n    if (sameDay(date, from) || sameDay(date, to)) {\n      result = 2;\n    } else if (sameDayOrAfter(date, from) && sameDayOrBefore(date, to)) {\n      result = 1;\n    }\n  } else {\n    result = 1;\n  }\n\n  return result;\n}; // withinDates takes an array of string dates or 2 element arrays and\n// checks whether the supplied date matches any string or is between\n// any dates in arrays.\n// returns 2 if exact match, 1 if between, undefined otherwise\n\nexport var withinDates = function withinDates(date, dates) {\n  var result;\n\n  if (dates) {\n    if (Array.isArray(dates)) {\n      dates.some(function (d) {\n        if (typeof d === 'string') {\n          if (sameDay(date, new Date(d))) {\n            result = 2;\n          }\n        } else {\n          result = betweenDates(date, d);\n        }\n\n        return result;\n      });\n    } else if (sameDay(date, new Date(dates))) {\n      result = 2;\n    }\n  }\n\n  return result;\n};"]},"metadata":{},"sourceType":"module"}